<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸ™ Voice-Based Mental Health Analyzer</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="container">
    <div class="header">
      <h1>ğŸ§  Voice-Based Depression & Stress Analyzer</h1>
      <p>Speak freely and get instant insights about your emotional well-being</p>
    </div>

    <div class="input-section">
      <h2>How are you feeling today?</h2>
      <p class="subtitle">Press record and speak about how your day has been or how you're feeling:</p>

      <div class="button-container">
        <button id="recordBtn" onclick="startRecording()">ğŸ™ Start Recording</button>
      </div>

      <audio id="audioPreview" controls style="display:none; margin-top: 10px;"></audio>

      <div class="disclaimer">
        <p>ğŸ”’ <strong>Privacy Note:</strong> Your audio is processed securely and never stored.</p>
        <p>âš ï¸ <strong>Disclaimer:</strong> This AI tool is for awareness only, not a medical diagnosis. If youâ€™re in crisis, please seek professional help immediately.</p>
      </div>
    </div>

    <!-- Loading -->
    <div id="loadingSection" class="loading-section" style="display: none;">
      <div class="spinner"></div>
      <p>Analyzing your voice for emotional patterns...</p>
    </div>

    <!-- Results Section -->
    <div id="resultSection" class="result-section" style="display: none;">
      <h2>ğŸ¯ Analysis Results</h2>

      <!-- Depression Analysis -->
      <div class="risk-card" id="depressionCard">
        <h3>Depression Analysis</h3>
        <div class="risk-level" id="depressionLevel"></div>
        <div class="explanation" id="depressionExplanation"></div>

        <div class="score-container">
          <label>Depression Risk Score:</label>
          <div class="score-bar">
            <div class="score-fill" id="depressionScoreFill"></div>
          </div>
          <span class="score-value" id="depressionScoreValue"></span>
        </div>
      </div>

      <!-- Stress Analysis -->
      <div class="risk-card" id="stressCard">
        <h3>Stress Analysis</h3>
        <div class="risk-level" id="stressLevel"></div>
        <div class="explanation" id="stressExplanation"></div>

        <div class="score-container">
          <label>Stress Level Score:</label>
          <div class="score-bar">
            <div class="score-fill" id="stressScoreFill"></div>
          </div>
          <span class="score-value" id="stressScoreValue"></span>
        </div>
      </div>

      <!-- Emotions -->
      <div class="emotions-section">
        <h3>Detected Emotions</h3>
        <p>Dominant Emotion: <strong id="dominantEmotion"></strong></p>
        <div class="emotion-pills" id="emotionPills"></div>
      </div>

      <!-- Recommendations -->
      <div class="recommendations">
        <h3>ğŸ’¡ Personalized Recommendations</h3>
        <ul id="recommendationsList"></ul>
      </div>

      <!-- Crisis Resources -->
      <div class="crisis-resources">
        <h4>ğŸš¨ Immediate Crisis Resources</h4>
        <div class="resources-grid">
          <div class="resource-item">
            <strong>National Suicide Prevention Lifeline</strong>
            <p>Call or Text: 988</p>
          </div>
          <div class="resource-item">
            <strong>Crisis Text Line</strong>
            <p>Text: HOME to 741741</p>
          </div>
          <div class="resource-item">
            <strong>Emergency Services</strong>
            <p>Dial: 911</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Error Section -->
    <div id="errorSection" class="error-section" style="display: none;">
      <div class="error-message" id="errorMessage"></div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
